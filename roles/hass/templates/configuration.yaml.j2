# Ansible generated template, do not edit!

# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Text to speech
tts:
  - platform: google_translate

http:
  server_port: 4002
  use_x_forwarded_for: true
  trusted_proxies:
    - {{ networks.private.cidr | ipaddr('address') }}

homeassistant:
  name: 'Server room'
  latitude: {{ gps_latitude }}
  longitude: {{ gps_longitude }}
  elevation: {{ gps_elevation }}
  unit_system: metric
  time_zone: {{ timezone }}
  auth_providers:
    - type: command_line
      command: /config/hass-ldap-sync.py
    - type: homeassistant

zabbix:
  host: {{ external_subdomains.zabbix }}.{{ domain_name }}
  path: /
  ssl: true
  username: Admin
  password: {{ admin_password }}
  publish_states_host: "Zabbix server"
  include:
    entities:
      - sensor.ir_ac_temperature
      - sensor.ir_ac_humidity

sonoff:
  username: !secret sonoff_login
  password: !secret sonoff_pass

sensor:
- platform: template
  sensors:
    current_left:
      friendly_name: Left PCB - current
      unit_of_measurement: A
      value_template: "{% raw %}{{ state_attr('switch.sonoff_00', 'current') }}{% endraw %}"
    current_mid:
      friendly_name: Mid PCB - current
      unit_of_measurement: A
      value_template: "{% raw %}{{ state_attr('switch.sonoff_01', 'current') }}{% endraw %}"
    current_right:
      friendly_name: Right PCB - current
      unit_of_measurement: A
      value_template: "{% raw %}{{ state_attr('switch.sonoff_02', 'current') }}{% endraw %}"
    power_left:
       friendly_name: Left PCB - power
       unit_of_measurement: W
       value_template: "{% raw %}{{ state_attr('switch.sonoff_00', 'power') }}{% endraw %}"
    power_mid:
       friendly_name: Mid PCB - power
       unit_of_measurement: W
       value_template: "{% raw %}{{ state_attr('switch.sonoff_01', 'power') }}{% endraw %}"
    power_right:
       friendly_name: Right PCB - power
       unit_of_measurement: W
       value_template: "{% raw %}{{ state_attr('switch.sonoff_02', 'power') }}{% endraw %}"